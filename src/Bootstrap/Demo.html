<!DOCTYPE html>
<html>
    <head>
        <title>String Format</title>
        <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css">
        <script>
           function RegisterClick(){
               var username = document.getElementById("UserName").value;
               var userError = document.getElementById("UserError");
               if(username=="") {
                   userError.innerHTML = "User Name Required".fontcolor('red');
               }
           }
           function VerifyUserName(){
               var username = document.getElementById("UserName").value;
               var userError = document.getElementById("UserError");
               var registerButton = document.querySelector("button");
               if(username==""){
                  userError.innerHTML = "User Name Required".fontcolor('red');
                  registerButton.disabled = true;
               } else {
                   userError.innerHTML= "";
                   registerButton.disabled = false;
               }
           }
           function VerifyPassword(){
               var password = document.getElementById("Password").value;
               var passwordError = document.getElementById("PasswordError");
               var regExp = /(?=.*[A-Z])\w{4,10}/;
               if(password.match(regExp)) {
                   passwordError.innerHTML = "Strong Password".fontcolor('green');
               } else {
                   if(password.length<4) {
                       passwordError.innerHTML = "Poor Password".fontcolor('red');
                   } else {
                       passwordError.innerHTML = "Weak Password".fontcolor('orange');
                   }
               }
           }
           function VerifyMobile(){
               var mobile = document.getElementById("Mobile").value;
               var mobileError = document.getElementById("MobileError");
               var regExp = /\+91[0-9]{10}/;
               if(mobile.match(regExp)) {
                   mobileError.innerHTML = "";
               } else {
                   mobileError.innerHTML= "Invalid Mobile : +91 with 10 digits".fontcolor('red');
               }
           }
           function CheckUserCase(){
               var username = document.getElementById("UserName").value;
               var firstCharCode = username.charCodeAt(0);
               var userError = document.getElementById("UserError");
               if(firstCharCode>=65 && firstCharCode<=90)
               {
                  userError.innerHTML = "";
               } else {
                   userError.innerHTML = "Name must start with uppercase letter".fontcolor('red');
               }

           }
           function VerifyCard(){
               var cardnumber = document.getElementById("CreditCard").value;
               var cardimage = document.getElementById("CardImage");
               var cardtype = document.getElementById("CardType");
               cardtype.style.display = "inline";
               if(cardnumber.startsWith("4444")) {
                   cardimage.src= "/images/mastercard.png";
               } else if(cardnumber.startsWith("5555")) {
                   cardimage.src="/images/visa.png";
               } else {
                   cardtype.style.display = "none";
               }
           }
           function VerifyEmail(){
               var email = document.getElementById("Email").value;
               var emailError = document.getElementById("EmailError");
               if(email.endsWith("outlook.com")) {
                   emailError.innerHTML = "";
               } else {
                   emailError.innerHTML = "Only Microsoft Account Allowed".fontcolor('red');
               }
           }
        </script>
    </head>
    <body class="container-fluid">
        <h2>Register User</h2>
        <dl>
        
            <dt>User Name</dt>
            <dd><input type="text" id="UserName" onkeyup="CheckUserCase()" onblur="VerifyUserName()" ></dd>
            <dd id="UserError"></dd>
            <dt>Password</dt>
            <dd><input type="password" onkeyup="VerifyPassword()" id="Password"></dd>
            <dd id="PasswordError"></dd>
            <dt>Mobile</dt>
            <dd><input type="text" onblur="VerifyMobile()" id="Mobile"></dd>
            <dd id="MobileError"></dd>
            <dt>Credit Card Number</dt>
            <dd class="input-group">
                <input type="text" maxlength="16" onkeyup="VerifyCard()" id="CreditCard">
                <span style="display: none;" id="CardType" class="input-group-text"><img id="CardImage" width="90" height="31"></span>
            </dd>
            <dt>Your Microsoft Account</dt>
            <dd>
                <input onblur="VerifyEmail()" type="text" id="Email">
            </dd>
            <dd id="EmailError"></dd>
        </dl>
        <button onclick="RegisterClick()" class="btn btn-primary">Register</button>
    </body>
</html>
